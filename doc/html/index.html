<?xml version="1.0" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Homepage of Ruby's DBI</title>
<link href="rubyStyle.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1><a name="label:0" id="label:0">Ruby/DBI - a database independent interface for accessing databases - similar to Perl's DBI</a></h1><!-- RDLabel: "Ruby/DBI - a database independent interface for accessing databases - similar to Perl's DBI" -->
<p>$Id: index.html,v 1.15 2001/11/13 11:29:43 michael Exp $</p>
<p>Copyright (c) 2001 by Michael Neumann (neumann@s-direktnet.de)</p>
<h2><a name="label:1" id="label:1">License</a></h2><!-- RDLabel: "License" -->
<p>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.</p>
<p>Optionally this program is released under the same terms of license as Ruby itself.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</p>
<h2><a name="label:2" id="label:2">Contributors</a></h2><!-- RDLabel: "Contributors" -->
<dl>
<dt><a name="label:3" id="label:3">Rainer Perl 
</a></dt><!-- RDLabel: "Rainer Perl 
" -->
<dd>
<p>Author of Ruby/DBI 0.0.4 from which many good ideas were taken into the new completely rewritten version 0.0.5. </p>
</dd>
<dt><a name="label:4" id="label:4">Jim Weirich
</a></dt><!-- RDLabel: "Jim Weirich
" -->
<dd>
<p>Author of the PostgreSQL driver (DBD::Pg).
Wrote many additional code (e.g. sql.rb, testcases). 
Gave many helpful hints and comments.</p>
</dd>
<dt><a name="label:5" id="label:5">Eli Green
</a></dt><!-- RDLabel: "Eli Green
" -->
<dd>
<p>Implemented DatabaseHandle#columns for Mysql and Pg.</p>
</dd>
<dt><a name="label:6" id="label:6">Masatoshi SEKI
</a></dt><!-- RDLabel: "Masatoshi SEKI
" -->
<dd>
<p>For his version of module BasicQuote in sql.rb</p>
</dd>
<dt><a name="label:7" id="label:7">John Gorman 
</a></dt><!-- RDLabel: "John Gorman 
" -->
<dd>
<p>For his case insensitive load_driver patch and parameter parser.</p>
</dd>
<dt><a name="label:8" id="label:8">David Muse
</a></dt><!-- RDLabel: "David Muse
" -->
<dd>
<p>For testing the SQLRelay DBD and for his initial DBD. </p>
</dd>
</dl>
<h2><a name="label:9" id="label:9">Database Drivers (DBDs)</a></h2><!-- RDLabel: "Database Drivers (DBDs)" -->
<ul>
<li><p>ADO (ActiveX Data Objects) <em>(dbd_ado)</em></p>
<p>depend on WinOLE from RAA.</p></li>
<li><p>DB2 <em>(dbd_db2)</em></p>
<p>depend on Michael Neumann's Ruby/DB2 Module, available from RAA.</p></li>
<li><p>InterBase <em>(dbd_interbase)</em></p>
<p>depend on the InterBase module available from RAA.</p></li>
<li><p>mSQL <em>(dbd_msql)</em></p>
<p>depend on the "mSQL Library" by DATE Ken available from the RAA.</p></li>
<li><p>MySQL <em>(dbd_mysql)</em></p>
<p>depend on the "MySQL Ruby Module" by TOMITA Masahiro &lt;tommy@tmtm.org&gt; <a href="http://www.tmtm.org/mysql/">&lt;URL:http://www.tmtm.org/mysql/&gt;</a> or
available from the RAA.</p></li>
<li><p>ODBC <em>(dbd_odbc)</em></p>
<p>depend on the Ruby/ODBC (version &gt;= 0.5) binding by Christian Werner &lt;chw@ch-werner.de&gt; 
<a href="http://www.ch-werner.de/rubyodbc">&lt;URL:http://www.ch-werner.de/rubyodbc&gt;</a> or available from the RAA. 
Works also together with unixODBC. To use the 'odbc_ignorecase' option you need Ruby/ODBC &gt;= 0.9.3.</p></li>
<li><p>Oracle <em>(dbd_oracle)</em></p>
<p>depend on the "Oracle 7 Module for Ruby" version 0.2.11 by Yoshida Masato, available from RAA.</p></li>
<li><p>PostgreSQL <em>(dbd_pg)</em></p>
<p>depend on Noboru Saitou's Postgres Package:
<a href="http://www.ruby-lang.org/en/raa-list.rhtml?name=postgres">&lt;URL:http://www.ruby-lang.org/en/raa-list.rhtml?name=postgres&gt;</a></p></li>
<li><p>Proxy/Server <em>(dbd_proxy)</em></p>
<p>depend on distributed Ruby (DRb) available from RAA.</p></li>
<li><p>SQLRelay <em>(dbd_sqlrelay)</em></p>
<p>depend on the Ruby library of SQLRelay: <a href="http://www.firstworks.com/sqlrelay/">&lt;URL:http://www.firstworks.com/sqlrelay/&gt;</a>.</p></li>
<li><p>Sybase <em>(dbd_sybase)</em></p>
<p>this DBD is currently outdated and will <em>not</em> work with DBI versions &gt; 0.0.4 !!! </p></li>
</ul>
<h2><a name="label:10" id="label:10">ChangeLog</a></h2><!-- RDLabel: "ChangeLog" -->
<p>See <a href="http://www.ruby-projects.org/dbi/dbi/ChangeLog.html">&lt;URL:http://www.ruby-projects.org/dbi/dbi/ChangeLog.html&gt;</a>.</p>
<h2><a name="label:11" id="label:11">ToDo</a></h2><!-- RDLabel: "ToDo" -->
<p>See <a href="http://www.ruby-projects.org/dbi/dbi/ToDo.html">&lt;URL:http://www.ruby-projects.org/dbi/dbi/ToDo.html&gt;</a>.</p>
<h2><a name="label:12" id="label:12">Download</a></h2><!-- RDLabel: "Download" -->
<p>If you're running FreeBSD or NetBSD, have a look at their package collections. FreeBSD has for DBI and each DBD an easy to
install package, NetBSD currently only for PostgreSQL but more is to come.</p>
<p>A NetBSD package for MySQL is available from at <a href="http://www.fantasy-coders.de/ruby/ruby-mysql-2.4.tar.gz">&lt;URL:http://www.fantasy-coders.de/ruby/ruby-mysql-2.4.tar.gz&gt;</a>.</p>
<p>Latest development snapshot available at <a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-current.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-current.tar.gz&gt;</a>.</p>
<dl>
<dt><a name="label:13" id="label:13">Ruby/DBI 0.0.11
</a></dt><!-- RDLabel: "Ruby/DBI 0.0.11
" -->
<dd>
<p><a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.11.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.11.tar.gz&gt;</a></p>
</dd>
<dt><a name="label:14" id="label:14">Ruby/DBI 0.0.10
</a></dt><!-- RDLabel: "Ruby/DBI 0.0.10
" -->
<dd>
<p><a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.10.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.10.tar.gz&gt;</a></p>
</dd>
<dt><a name="label:15" id="label:15">Ruby/DBI 0.0.9
</a></dt><!-- RDLabel: "Ruby/DBI 0.0.9
" -->
<dd>
<p><a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.9.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.9.tar.gz&gt;</a></p>
</dd>
<dt><a name="label:16" id="label:16">Ruby/DBI 0.0.8
</a></dt><!-- RDLabel: "Ruby/DBI 0.0.8
" -->
<dd>
<p><a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.8.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.8.tar.gz&gt;</a></p>
</dd>
<dt><a name="label:17" id="label:17">Ruby/DBI 0.0.7
</a></dt><!-- RDLabel: "Ruby/DBI 0.0.7
" -->
<dd>
<p><a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.7.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.7.tar.gz&gt;</a></p>
</dd>
<dt><a name="label:18" id="label:18">Ruby/DBI 0.0.6
</a></dt><!-- RDLabel: "Ruby/DBI 0.0.6
" -->
<dd>
<p><a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.6.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.6.tar.gz&gt;</a></p>
</dd>
<dt><a name="label:19" id="label:19">Ruby/DBI 0.0.5
</a></dt><!-- RDLabel: "Ruby/DBI 0.0.5
" -->
<dd>
<p><a href="http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.5.tar.gz">&lt;URL:http://www.ruby-projects.org/downloads/dbi/ruby-dbi-all-0.0.5.tar.gz&gt;</a></p>
</dd>
</dl>
<h2><a name="label:20" id="label:20">Installation</a></h2><!-- RDLabel: "Installation" -->
<p>All available DBDs come with this package, but you should only
install the DBDs you really need.</p>
<h3><a name="label:21" id="label:21">To install all:</a></h3><!-- RDLabel: "To install all:" -->
<pre>ruby setup.rb config
ruby setup.rb setup
ruby setup.rb install</pre>
<h3><a name="label:22" id="label:22">To install dbi and some DBDs:</a></h3><!-- RDLabel: "To install dbi and some DBDs:" -->
<pre>ruby setup.rb config --with=dbi,dbd_pg....
ruby setup.rb setup
ruby setup.rb install</pre>
<p>Choose the packages to install by specifing them after the option <code>--with</code>.</p>
<h2><a name="label:23" id="label:23">Mailing List</a></h2><!-- RDLabel: "Mailing List" -->
<p>There is also a mailing-list for DBI-specific discussions, see
<a href="http://groups.yahoo.com/group/ruby-dbi-talk">&lt;URL:http://groups.yahoo.com/group/ruby-dbi-talk&gt;</a></p>
<h2><a name="label:24" id="label:24">Documentation</a></h2><!-- RDLabel: "Documentation" -->
<p>See the directories lib/*/doc or ext/*/doc for DBI and DBD specific informations.</p>
<p>The DBI specification is lib/dbi/doc/DBI_SPEC or lib/dbi/doc/html/DBI_SPEC.html or available
from WWW at <a href="http://www.ruby-projects.org/dbi/dbi/DBI_SPEC.html">&lt;URL:http://www.ruby-projects.org/dbi/dbi/DBI_SPEC.html&gt;</a>.</p>
<p>The DBD specification (how to write a database driver) is lib/dbi/doc/DBD_SPEC or lib/dbi/doc/html/DBD_SPEC.html or available
from WWW at <a href="http://www.ruby-projects.org/dbi/dbi/DBD_SPEC.html">&lt;URL:http://www.ruby-projects.org/dbi/dbi/DBD_SPEC.html&gt;</a>.</p>
<h2><a name="label:25" id="label:25">Examples</a></h2><!-- RDLabel: "Examples" -->
<p>Examples can be found in the examples/ subdirectory.
There is e.g. sqlsh.rb, which is an interactive SQL shell similar to Perl's dbish.rb.
Further there is in this directory the file proxyserver.rb which has to be run if you use the DBD::Proxy, 
to access databases remote over a TCP/IP network. </p>
<h3><a name="label:26" id="label:26">A simple example</a></h3><!-- RDLabel: "A simple example" -->
<pre>require 'dbi'

# connect to a datbase
dbh = DBI.connect('DBI:Mysql:test', 'testuser', 'testpwd')

puts "inserting..."
1.upto(13) do |i|
   sql = "insert into simple01 (SongName, SongLength_s) VALUES (?, ?)"
   dbh.do(sql, "Song #{i}", "#{i*10}")
end 

puts "selecting..."
sth=dbh.prepare('select * from simple01')
sth.execute

while row=sth.fetch do
 p row
end

puts "deleting..."
dbh.do('delete from simple01 where internal_id &gt; 10')

dbh.disconnect</pre>
<h3><a name="label:27" id="label:27">The same using Ruby's features</a></h3><!-- RDLabel: "The same using Ruby's features" -->
<pre>require 'dbi'

DBI.connect('DBI:Mysql:test', 'testuser', 'testpwd') do | dbh |

  puts "inserting..."
  sql = "insert into simple01 (SongName, SongLength_s) VALUES (?, ?)"
  dbh.prepare(sql) do | sth | 
    1.upto(13) { |i| sth.execute("Song #{i}", "#{i*10}") }
  end 

  puts "selecting..."
  dbh.select_all('select * from simple01') do
    p row
  end

  puts "deleting..."
  dbh.do('delete from simple01 where internal_id &gt; 10')

end</pre>

</body>
</html>
